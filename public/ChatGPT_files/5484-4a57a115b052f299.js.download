"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5484],{65484:function(e,t,n){n.d(t,{FB:function(){return e1},ZP:function(){return e4},wS:function(){return e2}});var a,i,s,o,r=n(10064),l=n(35250),c=n(72290),d=n(62682),u=n(25687),m=n(2064),p=n(70079),f=n(66638),g=n(17944);(a=s||(s={})).Personal="chat",a.Workspace="workspace",a.Team="team";var h=n(23234),x=n(60583),y=n(61888),v=n(70671),b=n(94968),k=n(86646),j=n(21722),w=n(39324),M=n(71209),C=n(38104),_=n(20225),A=n(10721),N=n(1454),T=n(32004),S=n(94705),B=n(7184),Z=n(42798);function P(){var e=(0,k.Go)(),t=(0,A.useRouter)(),n=(0,v.Z)(),a=(0,r._)((0,p.useState)(),2),i=a[0],s=a[1],o=null!==e;if((0,p.useEffect)(function(){o||s(void 0)},[o]),!o)return null;var c=(0,l.jsx)("span",{className:"font-medium",children:e.ownerEmail}),d=e.hasActiveRequest||"success"===i;return(0,l.jsx)(B.Z,{isOpen:!0,onClose:y.noop,type:"warning",size:"custom",className:"max-w-3xl",title:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("div",{className:"text-lg",children:(0,l.jsx)(T.Z,(0,M._)((0,w._)({},D.title),{values:{workspaceName:e.accountName}}))}),(0,l.jsx)("div",{className:"text-sm font-normal",children:(0,l.jsx)(T.Z,(0,w._)({},D.subtitle))})]}),icon:N.UIZ,primaryButton:(0,l.jsx)(S.ZP.Button,{onClick:(0,j._)(function(){return(0,C.Jh)(this,function(t){switch(t.label){case 0:s("requesting"),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,k.ZP.requestWorkspaceAccess(e.accountId)];case 2:return t.sent().success&&s("success"),[3,4];case 3:return t.sent(),s("error"),[3,4];case 4:return[2]}})}),color:"primary",title:n.formatMessage(D.requestAccessButton),disabled:d}),secondaryButton:(0,l.jsx)(S.ZP.Button,{onClick:(0,j._)(function(){var e;return(0,C.Jh)(this,function(n){switch(n.label){case 0:return[4,(0,_.signOut)({redirect:!1,callbackUrl:"/auth/login?next=".concat(encodeURIComponent(t.asPath))})];case 1:return e=n.sent(),t.push(e.url),[2]}})}),color:"neutral",title:n.formatMessage(D.signOutButton)}),children:(0,l.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,l.jsx)("div",{children:(0,l.jsx)(T.Z,(0,M._)((0,w._)({},D.emailBelongsToWorkspace),{values:{email:(0,l.jsx)("span",{className:"font-medium",children:e.userEmail})}}))}),(0,l.jsx)("div",{children:d?(0,l.jsx)(T.Z,(0,M._)((0,w._)({},D.activeRequestMessage),{values:{email:c}})):"requesting"===i?(0,l.jsx)(Z.Z,{}):"error"===i?(0,l.jsx)(T.Z,(0,M._)((0,w._)({},D.contactWorkspaceAdminEmail),{values:{email:c}})):null})]})})}var D=(0,b.vU)({title:{id:"RequestWorkspaceAccessModal.title",defaultMessage:"Request access to {workspaceName}",description:"Title for request access modal for a workspace"},subtitle:{id:"RequestWorkspaceAccessModal.subtitle",defaultMessage:"ChatGPT Enterprise has been enabled in your workspace",description:"Subtitle for request access modal mentioning ChatGPT Enterprise"},emailBelongsToWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToWorkspace",defaultMessage:"{email} belongs to a ChatGPT Enterprise plan but currently has no access.",description:"Message shown telling the user their email is part of an enterprise workspace."},requestWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestWorkspaceAccessMessage",defaultMessage:"You may request access to the workspace account.",description:"Message telling the user to request access to the workspace."},requestedWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestedWorkspaceAccessMessage",defaultMessage:"Successfully requested access to the workspace account. Your workspace administrator at {email} may approve the request.",description:"Message telling the user they have requested access to the workspace."},contactWorkspaceAdminEmail:{id:"RequestWorkspaceAccessModal.contactWorkspaceAdminEmail",defaultMessage:"Could not request access. Contact your workspace administrator at {email} to request access to a new workspace account.",description:"Message telling the user who to contact to create a new account for the workspace."},signOutButton:{id:"RequestWorkspaceAccessModal.signOutButton",defaultMessage:"Sign Out",description:"Label for sign out button on modal"},requestAccessButton:{id:"RequestWorkspaceAccessModal.requestAccessButton",defaultMessage:"Request access",description:"Label for request access button on modal"},activeRequestMessage:{id:"RequestWorkspaceAccessModal.activeRequestMessage",defaultMessage:"You have a pending invite request for this workspace. Contact your workspace administrator at {email} to approve your request.",description:"Message telling the user they have an active request for the workspace."}}),E=n(84269),O=n(55548),L=n(80474),I=n(54636),z=n(42780),W=n(85660),U=n(8874),q=n(48133);function V(e){var t=e.children;return(0,l.jsxs)(L.zt,{children:[(0,l.jsx)(L.fC,{className:"radix-state-closed:animate-hide radix-state-open:animate-slideIn grid grid-cols-[auto_max-content] items-center gap-x-4 rounded-lg bg-white p-4 shadow-xs [grid-template-areas:_'title_action'_'description_action'] dark:bg-gray-950 sm:max-w-2xl",open:!0,children:t}),(0,l.jsx)(L.l_,{className:"fixed bottom-0 right-0 z-50 m-0 flex max-w-[100vw] list-none flex-col gap-4 p-6 outline-none"})]})}function R(e){var t=e.onClose,n=e.ageVerificationDeadline;return(0,p.useEffect)(function(){U.m9.logEvent("chatgpt_compliance_age_verification_seen"),I.A.logEvent(z.M.complianceAgeVerificationSeen)},[]),(0,l.jsxs)(V,{children:[(0,l.jsx)(L.Dx,{className:"text-sm font-medium [grid-area:_title]",children:(0,l.jsx)(T.Z,(0,M._)((0,w._)({},G.ageVerificationTitle),{values:{deadline:null!=n?Math.floor(n/60/60/24):0,learnMoreLink:function(e){return(0,l.jsx)("a",{href:"https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",target:"_blank",rel:"noreferrer",className:"cursor-pointer font-normal underline",children:e})}}}))}),(0,l.jsx)(L.aU,{altText:"Dismiss notification",asChild:!0,children:(0,l.jsx)(q.z,{color:"primary",size:"small",onClick:function(){U.m9.logEvent("chatgpt_compliance_age_verification_clicked"),I.A.logEvent(z.M.complianceAgeVerificationClicked),W.b.setCookie(W.c.AgeVerification,"true",{maxAge:86400,path:"/"}),t(),O.vm.openModal(O.B.AgeVerificationInterstitial)},children:(0,l.jsx)(T.Z,(0,w._)({},G.startVerification))})}),(0,l.jsx)(L.x8,{})]})}var G=(0,b.vU)({ageVerificationTitle:{id:"ageVerificationBanner.title-v1",defaultMessage:"Please verify your age in the next {deadline, plural, =0 {# days} one {# day} other {# days}}. We are required to check if you're old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>.",description:"Explanation of why ChatGPT needs to verify age"},dismiss:{id:"ageVerificationBanner.dismiss",defaultMessage:"Dismiss",description:"Dismiss/close age verification ui Banner"},startVerification:{id:"ageVerificationBanner.startVerification",defaultMessage:"Start verification",description:"Start age verification process button"}}),F=n(4337),H=n(21389),Y=n(29450),Q=n(21682);function J(){var e=(0,F._)(["underline font-normal"]);return J=function(){return e},e}function K(e){var t=e.onClose,n=e.canManageBrowserStorage,a=(0,v.Z)(),i=(0,Y.Fr)().openSettings,s=(0,Q.CX)(),o=(0,Q.T$)({enabled:!!n,select:function(e){return!e.cookie_consent.is_required}}),r=o.data,d=o.isLoading;return((0,p.useEffect)(function(){!0===r&&t()},[r,t]),d)?null:(0,l.jsxs)(V,{children:[(0,l.jsx)(L.Dx,{className:"text-sm font-medium [grid-area:_title]",children:(0,l.jsx)(T.Z,(0,M._)((0,w._)({},X.cookieConsentBannerTitle),{values:{privacyPolicyLink:function(e){return(0,l.jsx)($,{href:"https://openai.com/policies/privacy-policy",target:"_blank",rel:"noreferrer",children:e})},learnMoreLink:function(e){return(0,l.jsx)($,{href:"https://help.openai.com/articles/8077698-how-do-i-use-chatgpt-browse-with-bing-to-search-the-web",target:"_blank",rel:"noreferrer",children:e})},settingsPanel:function(e){return(0,l.jsx)($,{$as:"button",onClick:function(){i(Y.u5.DataControls)},children:e})}}}))}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)(q.z,{color:"neutral",size:"small",onClick:function(){s.mutateAsync({analytics_cookies_accepted:!1},{onSuccess:function(){c.m.success(a.formatMessage(X.updateSuccess))},onError:function(){c.m.danger(a.formatMessage(X.updateFailure))}}),t()},children:(0,l.jsx)(T.Z,(0,w._)({},X.reject))}),(0,l.jsx)(q.z,{color:"neutral",size:"small",onClick:function(){s.mutateAsync({analytics_cookies_accepted:!0},{onSuccess:function(){c.m.success(a.formatMessage(X.updateSuccess))},onError:function(){c.m.danger(a.formatMessage(X.updateFailure))}}),t()},children:(0,l.jsx)(T.Z,(0,w._)({},X.accept))})]}),(0,l.jsx)(L.x8,{})]})}var $=H.Z.a(J()),X=(0,b.vU)({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>.",description:"Explanation of why ChatGPT needs to verify age"},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all",description:"Reject analytics cookies button"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all",description:"Consent to analytics cookies button"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully",description:"Success toast message for updating cookie preferences"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later.",description:"Failure toast message for updating cookie preferences"}}),ee=n(50835),et=n(70216),en=n(19841);function ea(e){var t=e.className,n=e.openNewTab,a=(0,et._)(e,["className","openNewTab"]);return(0,l.jsx)("a",(0,w._)({rel:"noreferrer",className:(0,en.default)("cursor-pointer font-normal text-green-600 underline",t),target:void 0!==n&&n?"_blank":"_self"},a))}function ei(e){var t=e.onClose,n=(0,Q.Ub)(!0),a=(0,Q.$H)();return(0,l.jsx)(ee.fC,{open:!0,onOpenChange:function(e){e||t()},children:(0,l.jsxs)(ee.h_,{children:[(0,l.jsx)(ee.aV,{className:"fixed inset-0 bg-black/20 radix-state-open:animate-show"}),(0,l.jsxs)(ee.VY,{className:"fixed left-[50%] top-[50%] flex max-h-[85vh] w-[90vw] max-w-lg translate-x-[-50%] translate-y-[-50%] flex-col gap-2 rounded-[6px] bg-token-surface-primary shadow-2xl focus:outline-none radix-state-open:animate-alertShow",onEscapeKeyDown:function(e){return e.preventDefault()},children:[(0,l.jsx)(ee.Dx,{className:"border-b border-token-border-heavy p-4 text-lg font-medium md:p-6",children:n?(0,l.jsx)(T.Z,(0,w._)({},er.titleEEA)):(0,l.jsx)(T.Z,(0,w._)({},er.titleExEEA))}),(0,l.jsx)("div",{className:"flex flex-col gap-2 p-4 md:px-6",children:(0,l.jsx)(n?es:eo,{onAction:function(e){e?(a.mutate(),I.A.logEvent(z.M.compliancePrivacyPolicyUpdateNov2023)):I.A.logEvent(z.M.complianceTermsOfUseDeclineNov2023),t()}})})]})]})})}function es(e){var t=e.onAction;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ee.dk,{className:"text-base",children:(0,l.jsx)(T.Z,(0,M._)((0,w._)({},er.contentEEA),{values:{termsLink:function(e){return(0,l.jsx)(ea,{openNewTab:!0,href:"https://openai.com/policies/eu-terms-of-use",children:e})},faqLink:function(e){return(0,l.jsx)(ea,{openNewTab:!0,href:"https://help.openai.com/en/articles/8541941-terms-of-use-updates",children:e})}}}))}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(ee.$j,{asChild:!0,children:(0,l.jsx)(q.z,{openNewTab:!0,as:"link",to:"https://help.openai.com/en/articles/6378407-how-to-delete-your-account",color:"neutral",onClick:function(){return t(!1)},children:(0,l.jsx)(T.Z,(0,w._)({},er.dismiss))})}),(0,l.jsx)(ee.aU,{asChild:!0,children:(0,l.jsx)(q.z,{color:"primary",onClick:function(){return t(!0)},children:(0,l.jsx)(T.Z,(0,w._)({},er.agree))})})]})]})}function eo(e){var t=e.onAction;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ee.dk,{className:"text-base",children:(0,l.jsx)(T.Z,(0,M._)((0,w._)({},er.contentExEEA),{values:{termsLink:function(e){return(0,l.jsx)(ea,{openNewTab:!0,href:"https://openai.com/policies/terms-of-use ",children:e})},faqLink:function(e){return(0,l.jsx)(ea,{openNewTab:!0,href:"https://help.openai.com/en/articles/8541945-terms-of-use-and-privacy-policy-updates",children:e})},privacyPolicyLink:function(e){return(0,l.jsx)(ea,{href:"https://openai.com/policies/privacy-policy",openNewTab:!0,children:e})}}}))}),(0,l.jsx)(ee.aU,{className:"ml-auto flex gap-2",asChild:!0,children:(0,l.jsx)(q.z,{openNewTab:!0,color:"primary",onClick:function(){return t(!0)},children:(0,l.jsx)(T.Z,(0,w._)({},er.agree))})})]})}var er=(0,b.vU)({titleEEA:{id:"PrivacyPolicyUpdateBanner.title.eea",defaultMessage:"We've updated our Terms of Use",description:"terms of use notification banner title"},titleExEEA:{id:"PrivacyPolicyUpdateBanner.title.exeea",defaultMessage:"We've updated our Terms of Use and Privacy Policy",description:"terms of use notification banner title"},contentEEA:{id:"PrivacyPolicyUpdateBanner.content.eea",defaultMessage:"We've updated our <termsLink>Terms of Use</termsLink>, effective December 14, 2023. By continuing to use our services, you agree to these updated terms. <faqLink>Learn more</faqLink>.",description:"Links to terms of use and privacy policy due to update"},contentExEEA:{id:"PrivacyPolicyUpdateBanner.content.exeea",defaultMessage:"We've updated our <termsLink>Terms of Use</termsLink> and <privacyPolicyLink>Privacy Policy</privacyPolicyLink>, effective December 14, 2023. By continuing to use our services, you agree to these updated terms. <faqLink>Learn more.</faqLink>",description:"Links to terms of use and privacy policy due to update"},agree:{id:"PrivacyPolicyUpdateBanner.Agree",defaultMessage:"Agree",description:"Agree/close age verification ui Banner"},dismiss:{id:"PrivacyPolicyUpdateBanner.dismiss",defaultMessage:"Disagree",description:"Disagree/close age verification ui Banner and navigate to deactivate account"}}),el=n(35265),ec=n(10943),ed=n(77997),eu=n(21988),em=n.n(eu),ep=n(40547),ef={src:"https://cdn.oaistatic.com/_next/static/media/onobarding-all-tools-dark.8bdddfc2.png",height:480,width:1116,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAYAAACuyE5IAAAAbklEQVR4nAFjAJz/AQkhAFtDEmhc7/rnuff88Wje+MAAIwlBmPv++EfS98ekAUMvXNw6GVUjodpqAFslkAD+//4At+GRADYWUgDV78DdAUIuWj/l9tZU2fnQukoTaG4EAgUAwe+TkiIHQEYQBhisfI4uEQC74+wAAAAASUVORK5CYII=",blurWidth:8,blurHeight:3},eg={src:"https://cdn.oaistatic.com/_next/static/media/onobarding-all-tools-light.650635b6.png",height:468,width:1104,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAYAAACuyE5IAAAAXklEQVR42hWMywmAMBQEU50327ADa7EcLcCLHUQ95CT4wSTEZJ4vC8suDIwRkc6fjDnRxxcL2JLptWNlJjw4OyM1q+6+IArl2JAUcSbcNOVjUN7qn9Q2UaRNgcFfND/jAFZJDj0XRwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3};function eh(e){var t=e.onClose,n=(0,x.qg)(x.pm.GizmoOnboarding).markAsViewed,a=(0,r._)((0,p.useState)(!1),2),i=a[0],s=a[1],o=(0,g.ec)(g.F_.isBusinessWorkspace),c=function(){n(),o?s(!0):t()};return(0,l.jsx)(l.Fragment,{children:i?(0,l.jsx)(ep.Z,{onClose:t}):(0,l.jsxs)(B.Z,{isOpen:!0,onClose:c,type:"success",children:[(0,l.jsx)("div",{className:"flex cursor-pointer justify-end text-xl text-token-text-tertiary",children:(0,l.jsx)("button",{onClick:c,children:(0,l.jsx)(el.v7,{})})}),(0,l.jsx)("div",{className:"mb-4 flex w-full justify-center",children:(0,l.jsx)(ex,{})}),(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("div",{className:"text-center text-2xl font-bold",children:(0,l.jsx)(T.Z,(0,w._)({},ey.gizmoOnboardingHeadline))}),(0,l.jsx)("div",{className:"text-md text-center text-token-text-secondary",children:o?(0,l.jsx)(T.Z,(0,w._)({},ey.gizmoOnboardingSubheadingBiz)):(0,l.jsx)(T.Z,(0,w._)({},ey.gizmoOnboardingSubheading))})]}),(0,l.jsx)(ec.Zq,{className:"w-full",color:"primary",onClick:c,type:"submit",children:o?(0,l.jsx)(T.Z,(0,w._)({},ey.gizmoOnboardingNext)):(0,l.jsx)(T.Z,(0,w._)({},ey.gizmoOnboardingStart))})]})]})})}function ex(){var e=(0,ed.F)().resolvedTheme;return(0,l.jsx)(l.Fragment,{children:"dark"===e?(0,l.jsx)(em(),{src:ef.src,width:184,height:78,alt:"All tools"}):(0,l.jsx)(em(),{src:eg.src,width:184,height:78,alt:"All tools"})})}var ey=(0,b.vU)({gizmoOnboardingHeadline:{id:"gizmoOnboarding.headline",defaultMessage:"ChatGPT can now browse the web, analyze data, and generate images.",description:"Headline for the gizmo onboarding modal"},gizmoOnboardingSubheading:{id:"gizmoOnboarding.subheading",defaultMessage:"These capabilities are now built into GPT-4, no need to select them. Available for Plus users.",description:"Subheading for the gizmo onboarding modal"},gizmoOnboardingSubheadingBiz:{id:"gizmoOnboarding.subheading.biz",defaultMessage:"These capabilities are now built into GPT-4, no need to select them. Available for Enterprise users.",description:"Subheading for the gizmo onboarding modal for Biz users"},gizmoOnboardingNext:{id:"gizmoOnboarding.next",defaultMessage:"Next",description:"Next button for the biz gizmo onboarding modal"},gizmoOnboardingStart:{id:"gizmoOnboarding.start",defaultMessage:"Get started",description:"Start button for the gizmo onboarding modal"}}),ev=n(77311),eb=n(59904),ek=x.pm.Onboarding,ej=function(){var e=(0,x.qg)(ek),t=e.eligible;return{setHasSeenOnboarding:e.markAsViewed,hasSeenOnboardingDate:e.isLoading?null:!t}};function ew(e){var t=e.onClose,n=e.scope,a=ej().setHasSeenOnboarding,i=(0,p.useCallback)(function(){t(!0),a()},[t,a]);return n===s.Personal?(0,l.jsx)(eC,{onSubmit:i}):(0,l.jsx)(e_,{onSubmit:i})}var eM=function(e){var t=e.icon,n=e.title,a=e.body;return(0,l.jsxs)("div",{className:"flex flex-col gap-2 md:w-1/3",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,l.jsx)("div",{children:t}),(0,l.jsx)("div",{className:"font-medium text-token-text-primary",children:n})]}),(0,l.jsx)("div",{className:"text-sm text-token-text-secondary",children:a})]})},eC=function(e){var t=e.onSubmit,n=(0,v.Z)();return(0,l.jsxs)("div",{className:"flex flex-col gap-3 p-4 md:p-6",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row",children:[(0,l.jsx)(eM,{icon:(0,l.jsx)(eb.wP,{isSolid:!0,className:"h-5 w-5 text-green-600"}),title:(0,l.jsx)(T.Z,(0,w._)({},eA.askAway)),body:(0,l.jsx)(T.Z,(0,w._)({},eA.askAwayBody))}),(0,l.jsx)(eM,{icon:(0,l.jsx)(eb.NJ,{className:"text-brand-purple"}),title:(0,l.jsx)(T.Z,(0,w._)({},eA.warning)),body:(0,l.jsx)(T.Z,(0,M._)((0,w._)({},eA.warningBody),{values:{article:function(e){return(0,l.jsx)("a",{href:"https://help.openai.com/en/articles/7039943-data-usage-for-consumer-services-faq",target:"_blank",className:"underline",rel:"noopener noreferrer",children:e})}}}))}),(0,l.jsx)(eM,{icon:(0,l.jsx)(eb.CJ,{className:"text-orange-300"}),title:(0,l.jsx)(T.Z,(0,w._)({},eA.accuracy)),body:(0,l.jsx)(T.Z,(0,w._)({},eA.accuracyBody))})]}),(0,l.jsx)("div",{className:"flex flex-row justify-end",children:(0,l.jsx)(S.mH,{title:n.formatMessage(eA.gettingStartedButton),onClick:t,color:"primary"})})]})},e_=function(e){var t=e.onSubmit,n=(0,v.Z)();return(0,l.jsxs)("div",{className:"flex flex-col gap-6 p-4 md:p-6",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row",children:[(0,l.jsx)(eM,{icon:(0,l.jsx)(ev.Z,{className:"icon-md text-brand-purple"}),title:(0,l.jsx)(T.Z,(0,w._)({},eA.workUse)),body:(0,l.jsx)(T.Z,(0,w._)({},eA.workUseBody))}),(0,l.jsx)(eM,{icon:(0,l.jsx)(eb.wP,{isSolid:!0,className:"h-5 w-5 text-green-600"}),title:(0,l.jsx)(T.Z,(0,w._)({},eA.askAway)),body:(0,l.jsx)(T.Z,(0,w._)({},eA.askAwayBody))}),(0,l.jsx)(eM,{icon:(0,l.jsx)(eb.CJ,{className:"text-orange-300"}),title:(0,l.jsx)(T.Z,(0,w._)({},eA.accuracy)),body:(0,l.jsx)(T.Z,(0,w._)({},eA.accuracyBody))})]}),(0,l.jsx)("div",{className:"flex flex-row justify-end",children:(0,l.jsx)(S.mH,{title:n.formatMessage(eA.gettingStartedButton),onClick:t,color:"primary"})})]})},eA=(0,b.vU)({askAway:{id:"onboarding.askAway",defaultMessage:"Ask away",description:"Title for the tip about what ChatGPT can do"},askAwayBody:{id:"onboarding.askAwayBody",defaultMessage:"ChatGPT can answer questions, help you learn, write code, brainstorm together, and much more.",description:"Body copy for the tip about what ChatGPT can do"},warning:{id:"onboarding.warning",defaultMessage:"Don’t share sensitive info",description:"Title for the warning about ChatGPT traning"},warningBody:{id:"onboarding.warningBody",defaultMessage:"Chat history may be reviewed or used to improve our services. Learn more about your choices in our <article>Help Center</article>.",description:"Body copy for the warning about ChatGPT traning"},accuracy:{id:"onboarding.accuracy",defaultMessage:"Check your facts",description:"Title for the warning about ChatGPT inaccuracy"},accuracyBody:{id:"onboarding.accuracyBody",defaultMessage:"While we have safeguards, ChatGPT may give you inaccurate information. It’s not intended to give advice.",description:"Body copy for the warning about ChatGPT inaccuracy"},gettingStartedButton:{id:"onboarding.gettingStartedButton",defaultMessage:"Okay, let’s go",description:"Button to accept the getting started modal"},workspaceWelcome:{id:"onboarding.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} Workspace",description:"Introduction welcome for workspace onboarding"},workspaceWelcomeNoName:{id:"onboarding.workspaceWelcomeNoName",defaultMessage:"Welcome to the your Workspace",description:"Introduction welcome for workspace onboarding when no Workspace name is available"},workspaceWelcomeBody:{id:"onboarding.workspaceWelcomeBody",defaultMessage:"Here you can use our latest models, with more capabilities, and fewer limits.",description:"Introduction welcome body for workspace onboarding"},workUse:{id:"onboarding.workUse",defaultMessage:"Made for use at work",description:"Title for the warning about ChatGPT business workspace use"},workUseBody:{id:"onboarding.workUseBody",defaultMessage:"By default, chats in this workspace are not used to train our AI models.",description:"Body copy for the warning about ChatGPT business workspace use"}}),eN=n(72871),eT=n(25653),eS=x.pm.MemoryOnboarding;function eB(e){var t=e.icon,n=e.title,a=e.description;return(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)("div",{className:"mt-1",children:t}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("div",{className:"text-lg font-medium",children:n}),(0,l.jsx)("p",{className:"mt-1 text-sm text-token-text-secondary",children:a})]})]})}function eZ(e){var t=e.onClose,n=(0,v.Z)(),a=(0,x.qg)(eS).markAsViewed,i=(0,p.useCallback)(function(){a(),t()},[a,t]);return(0,l.jsx)(B.Z,{isOpen:!0,onClose:y.noop,size:"custom",className:"max-w-xl",type:"success",title:n.formatMessage(eP.title),primaryButton:(0,l.jsx)(S.ZP.Button,{onClick:i,title:n.formatMessage(eP.continue),color:"primary"}),children:(0,l.jsxs)("div",{className:"mb-6 flex flex-col gap-3",children:[(0,l.jsx)(eB,{icon:(0,l.jsx)(eP.bulletTitle1.Icon,{}),title:n.formatMessage(eP.bulletTitle1),description:n.formatMessage(eP.bulletDescription1)}),(0,l.jsx)(eB,{icon:(0,l.jsx)(eP.bulletTitle2.Icon,{}),title:n.formatMessage(eP.bulletTitle2),description:n.formatMessage(eP.bulletDescription2)}),(0,l.jsx)(eB,{icon:(0,l.jsx)(eP.bulletTitle3.Icon,{}),title:n.formatMessage(eP.bulletTitle3),description:n.formatMessage(eP.bulletDescription3)})]})})}var eP=(0,b.vU)({title:{id:"MemoryOnboardingModal.title",defaultMessage:"Your GPT can now learn from your chats",description:"Title of the modal"},bulletTitle1:{Icon:eT.K9,id:"MemoryOnboardingModal.bulletTitle1",defaultMessage:"Keep the conversation going",description:"Title for the first bullet"},bulletDescription1:{id:"MemoryOnboardingModal.bulletDescription1",defaultMessage:"Your GPT will carry what it learns between chats, allowing it to provide more relevant responses.",description:"Description for the first bullet"},bulletTitle2:{Icon:eT.Fw,id:"MemoryOnboardingModal.bulletTitle2",defaultMessage:"Improves over time",description:"Title for the second bullet"},bulletDescription2:{id:"MemoryOnboardingModal.bulletDescription2",defaultMessage:"As you chat your GPT will become more helpful, remembering details and preferences.",description:"Description for the seconed bullet"},bulletTitle3:{Icon:el.gf,id:"MemoryOnboardingModal.bulletTitle3",defaultMessage:"Manage what it remembers",description:"Title for the third bullet"},bulletDescription3:{id:"MemoryOnboardingModal.bulletDescription3",defaultMessage:"To modify what your GPT knows, just send it a message. You can reset your GPT’s memory or turn this feature off in settings.",description:"Description for the third bullet"},continue:{id:"MemoryOnboardingModal.continue",defaultMessage:"Continue",description:"Button to close"}}),eD=n(64502),eE=n(12296),eO=function(e){var t=e.onContinue,n=e.scope,a=(0,v.Z)(),i=(0,eE.$3)();return(0,l.jsx)(B.Z,{isOpen:!0,onClose:y.noop,type:"success",title:a.formatMessage(eU.chatgptTitle,{workspaceName:i}),size:"fullscreen",className:"max-w-2xl",children:(0,l.jsx)(ew,{onClose:function(){t()},scope:n})})},eL=function(e){var t=e.onContinue,n=e.onSkip,a=(0,v.Z)();return(0,l.jsx)(B.Z,{isOpen:!0,onClose:y.noop,type:"success",title:a.formatMessage(eU.primaryRoleTitle),description:a.formatMessage(eU.tailorChatGPT),size:"custom",className:"max-w-lg",children:(0,l.jsx)(ez,{options:eR,onSkip:n,onSubmit:t})})},eI=function(e){var t=e.onContinue,n=e.onSkip,a=(0,v.Z)();return(0,l.jsx)(B.Z,{isOpen:!0,onClose:y.noop,type:"success",title:a.formatMessage(eU.workTypeTitle),description:a.formatMessage(eU.tailorChatGPT),size:"custom",className:"max-w-lg",children:(0,l.jsx)(ez,{options:eG,onSkip:n,onSubmit:t,multiSelect:!0})})};function ez(e){var t=e.options,n=e.onSkip,a=void 0===n?y.noop:n,i=e.onSubmit,s=void 0===i?y.noop:i,o=e.multiSelect,c=void 0!==o&&o,d=function(e,t){var n=e.indexOf(t);return -1===n?(0,eD._)(e).concat([t]):(0,eD._)(e.slice(0,n)).concat((0,eD._)(e.slice(n+1)))},u="dark"===(0,ed.F)().resolvedTheme,m=(0,v.Z)(),f=(0,r._)((0,p.useState)([]),2),g=f[0],h=f[1],x=(0,p.useCallback)(function(e){var t,n=null!==(t=e.currentTarget.dataset.value)&&void 0!==t?t:"";c?h(d(g,n)):s(n)},[s,g,h,c]);return(0,l.jsxs)("div",{children:[c&&(0,l.jsx)("p",{className:"mx-2 text-sm text-gray-400",children:m.formatMessage(eU.selectAll)}),(0,l.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,l.jsx)("div",{className:"flex-wrap space-y-4",children:t.map(function(e){return(0,l.jsx)(q.z,{onClick:x,color:g.includes(e.id)?u?"light":"dark":"neutral",size:"medium",className:"mx-2 ".concat(g.includes(e.id)?"hover:bg-gray-200":"hover:bg-gray-100"),"data-value":e.id,children:(0,l.jsx)(T.Z,(0,w._)({},e.displayValue))},e.id)})})}),(0,l.jsxs)("div",{className:"mt-4 flex flex-row justify-end",children:[(0,l.jsx)(S.mH,{title:m.formatMessage(eU.skipButton),onClick:a}),c&&(0,l.jsx)(S.mH,{title:m.formatMessage(eU.continueButton),onClick:function(){s(g)},disabled:0===g.length,color:"primary",className:"ml-4"})]})]})}function eW(e){var t=e.onClose,n=(0,r._)((0,p.useState)(0),2),a=n[0],i=n[1],c=(0,r._)((0,p.useState)({role:void 0,departments:void 0}),2),d=c[0],u=c[1],m=(0,g.ec)(g.F_.workspaceId),f=(0,g.aF)(),h=null==f?void 0:f.id,x=function(){U.m9.logEvent("chatgpt_biz_onboarding_skipped"),I.A.logEvent(z.M.bizOnboardingSkipped),t()};switch(a){case o.InitialModal:return(0,l.jsx)(eO,{scope:s.Workspace,onContinue:function(){i(o.RoleModal)}});case o.RoleModal:return(0,l.jsx)(eL,{onContinue:function(e){u(function(t){return(0,M._)((0,w._)({},t),{role:e})}),i(o.DepartmentModal)},onSkip:x});case o.DepartmentModal:return(0,l.jsx)(eI,{onContinue:function(e){var n=(0,M._)((0,w._)({},d),{departments:e});t(),U.m9.logEvent("chatgpt_biz_onboarding_completed"),I.A.logEvent(z.M.bizOnboardingCompleted),k.ZP.updateWorkspaceUserOnboardingInformation(m,h,n)},onSkip:x});default:return(0,l.jsx)(l.Fragment,{})}}(i=o||(o={}))[i.InitialModal=0]="InitialModal",i[i.RoleModal=1]="RoleModal",i[i.DepartmentModal=2]="DepartmentModal";var eU=(0,b.vU)({chatgptTitle:{id:"onboarding.chatgptTitle.0",defaultMessage:"Welcome to the {workspaceName} workspace",description:"Title for the initial onboarding modal"},primaryRoleTitle:{id:"onboarding.primaryRoleTitle",defaultMessage:"What's your primary role?",description:"Question asking the user about their primary role"},tailorChatGPT:{id:"onboarding.tailorChatGPT",defaultMessage:"This will help us tailor ChatGPT for you.",description:"Description explaining the reason for the questions"},workTypeTitle:{id:"onboarding.workTypeTitle",defaultMessage:"What kind of work do you do?",description:"Question asking the user about the kind of work they do"},selectAll:{id:"onboarding.selectAll",defaultMessage:"Select all that apply",description:"Instruction for multi-select options"},skipButton:{id:"onboarding.skipButton",defaultMessage:"Skip",description:"Label for the skip button"},continueButton:{id:"onboarding.continueButton",defaultMessage:"Continue",description:"Label for the continue button"}}),eq=(0,b.vU)({marketing:{id:"onboarding.departments.marketing",defaultMessage:"Marketing",description:"Department option for Marketing"},analytics:{id:"onboarding.departments.analytics",defaultMessage:"Data or Analytics",description:"Department option for Data or Analytics"},product:{id:"onboarding.departments.product",defaultMessage:"Product Management",description:"Department option for Product Management"},comms:{id:"onboarding.departments.comms",defaultMessage:"Communications",description:"Department option for Communication"},finance:{id:"onboarding.departments.finance",defaultMessage:"Finance or Accounting",description:"Department option for Finance or Accounting"},customer_experience:{id:"onboarding.departments.customer_experience",defaultMessage:"Customer Experience",description:"Department option for Customer Experience"},project_management:{id:"onboarding.departments.project_management",defaultMessage:"Project or Program Management",description:"Department option for Project or Program Management"},engineering:{id:"onboarding.departments.engineering",defaultMessage:"Engineering",description:"Department option for Engineering"},education_professional:{id:"onboarding.departments.education_professional",defaultMessage:"Education Professional",description:"Department option for Education Professional"},design:{id:"onboarding.departments.design",defaultMessage:"Design",description:"Department option for Design"},administrative:{id:"onboarding.departments.administrative",defaultMessage:"Administrative Assistant",description:"Department option for Administrative Assistant"},partnerships:{id:"onboarding.departments.partnerships",defaultMessage:"Partnerships",description:"Department option for Partnerships"},it:{id:"onboarding.departments.it",defaultMessage:"Information Technology (IT)",description:"Department option for Information Technology (IT)"},ops:{id:"onboarding.departments.ops",defaultMessage:"Operations",description:"Department option for Operations"},human_resources:{id:"onboarding.departments.human_resources",defaultMessage:"Human Resources",description:"Department option for Human Resources"},research:{id:"onboarding.departments.research",defaultMessage:"Research & Development",description:"Department option for Research & Development"},sales:{id:"onboarding.departments.sales",defaultMessage:"Sales",description:"Department option for Sales"},legal:{id:"onboarding.departments.legal",defaultMessage:"Legal",description:"Department option for Legal"},healthcare:{id:"onboarding.departments.healthcare",defaultMessage:"Healthcare Professional",description:"Department option for Healthcare Professional"},other:{id:"onboarding.departments.other",defaultMessage:"Other",description:"Department option for Other"}}),eV=(0,b.vU)({team_member:{id:"onboarding.role.team_member",defaultMessage:"Team Member/ Individual Contributor",description:"Label for the role: Team Member/ Individual Contributor"},manager:{id:"onboarding.role.manager",defaultMessage:"Manager",description:"Label for the role: Manager"},student:{id:"onboarding.role.student",defaultMessage:"Student",description:"Label for the role: Student"},executive:{id:"onboarding.role.executive",defaultMessage:"Executive",description:"Label for the role: Executive"},director:{id:"onboarding.role.director",defaultMessage:"Director",description:"Label for the role: Director"},business_owner:{id:"onboarding.role.business_owner",defaultMessage:"Business Owner",description:"Label for the role: Business Owner"},freelancer:{id:"onboarding.role.freelancer",defaultMessage:"Freelancer",description:"Label for the role: Freelancer"},other:{id:"onboarding.role.other",defaultMessage:"Other",description:"Label for the role: Other"}}),eR=[{id:"team_member",displayValue:eV.team_member},{id:"manager",displayValue:eV.manager},{id:"student",displayValue:eV.student},{id:"executive",displayValue:eV.executive},{id:"director",displayValue:eV.director},{id:"business_owner",displayValue:eV.business_owner},{id:"freelancer",displayValue:eV.freelancer},{id:"other",displayValue:eV.other}],eG=[{id:"marketing",displayValue:eq.marketing},{id:"analytics",displayValue:eq.analytics},{id:"product",displayValue:eq.product},{id:"comms",displayValue:eq.comms},{id:"engineering",displayValue:eq.engineering},{id:"education_professional",displayValue:eq.education_professional},{id:"finance",displayValue:eq.finance},{id:"customer_experience",displayValue:eq.customer_experience},{id:"project_management",displayValue:eq.project_management},{id:"design",displayValue:eq.design},{id:"administrative",displayValue:eq.administrative},{id:"it",displayValue:eq.it},{id:"ops",displayValue:eq.ops},{id:"human_resources",displayValue:eq.human_resources},{id:"research",displayValue:eq.research},{id:"sales",displayValue:eq.sales},{id:"partnerships",displayValue:eq.partnerships},{id:"legal",displayValue:eq.legal},{id:"healthcare",displayValue:eq.healthcare},{id:"other",displayValue:eq.other}],eF=function(e){var t=e.onClose,n=(0,v.Z)(),a=(0,g.ec)(g.F_.isBusinessWorkspace),i=(0,g.ec)(function(e){return e.currentWorkspace}),o=a?n.formatMessage(eY.workspaceWelcome,{workspaceName:null==i?void 0:i.name}):"ChatGPT";return(0,l.jsx)(B.Z,{isOpen:!0,onClose:y.noop,type:"success",title:o,size:"fullscreen",className:"max-w-3xl",description:n.formatMessage(eY.personalOnboardingSubheading),children:(0,l.jsx)(ew,{onClose:t,scope:s.Personal})})};function eH(e){var t,n,a,i,s,o,c=e.ageVerificationDeadline,d=e.showCookieConsentBanner,u=e.canManageBrowserStorage,m=(0,r._)((0,p.useState)(0),2),f=m[0],y=m[1],v=(0,g.ec)(g.F_.workspaceId),b=ej().hasSeenOnboardingDate,j=(0,x.qg)(x.pm.GizmoOnboarding),w=j.eligible,M=j.isLoading,C=(0,g.ec)(g.F_.isBusinessWorkspace),_=0===(0,g.hz)().size?"loading":W.b.getCookie(W.c.AgeVerification)||null==c?"hide":"show",A=0===(0,g.hz)().size?"loading":d?"show":"hide",N=(t=(0,g.ec)(g.F_.isBusinessWorkspace),n=(0,g.hz)(),i=(a=(0,Q.T$)({enabled:!t&&n.has("privacy_policy_nov_2023")})).isLoading,s=a.data,i||0===n.size?"loading":(null==s?void 0:s.terms_of_use.is_required)===!0?"show":"hide"),T=(o=(0,eN.H)().isSunshineAvailable,(0,x.qg)(eS).eligible&&o),S=(0,g.$T)(),B=(0,k.Go)(),Z=(0,g.ec)(g.F_.hasMultipleWorkspaces)&&null==v,D=(0,h.O)(),O=(0,p.useMemo)(function(){return[{Component:E.Z,getModalState:function(){return S?"loading":Z?"show":"hide"}},{Component:P,getModalState:function(){return S?"loading":null!==B?"show":"hide"}},{Component:ei,getModalState:function(){return N}},{Component:K,getModalState:function(){return A}},{Component:eF,getModalState:function(){return C?"hide":null===b?"loading":!1===b?"show":"hide"}},{Component:eW,getModalState:function(){return C?null===b?"loading":!1===b?"show":"hide":"hide"}},{Component:R,getModalState:function(){return _}},{Component:eh,getModalState:function(){return D&&"/"===window.location.pathname?null===M?"loading":w?"show":"hide":"hide"}},{Component:eZ,getModalState:function(){return M?"loading":T?"show":"hide"}}]},[S,Z,B,N,A,C,b,_,D,M,w,T]);(0,p.useEffect)(function(){O[f]&&"hide"===O[f].getModalState()&&y(O.findIndex(function(e){return"hide"!==e.getModalState()}))},[f,O]);var L=O[f];if(null==L)return null;var I=L.getModalState();if("loading"===I)return null;"hide"===I&&y(function(e){return e+1});var z=O[f].Component;return(0,l.jsx)(z,{onClose:function(){y(function(e){return e+1})},ageVerificationDeadline:c,canManageBrowserStorage:u})}var eY=(0,b.vU)({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace",description:"Title for the Workspace onboarding modal"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started",description:"Subheading for the Personal onboarding modal"}}),eQ=n(34518),eJ=n(8679),eK=function(e){var t=e.action;return(0,l.jsxs)("div",{className:"flex items-center justify-between overflow-hidden text-gray-600 dark:text-gray-300",children:[(0,l.jsx)("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:(0,l.jsx)("div",{className:"truncate",children:(0,l.jsx)(T.Z,(0,w._)({},t.actionMessageDescriptor))})}),(0,l.jsx)("div",{className:"ml-3 flex flex-row gap-2",children:(0,eJ.A3)(t.keyboardBinding).map(function(e,n){return(0,l.jsx)(e$,{keyName:e},"".concat(t.key,"-").concat(n))})})]})},e$=function(e){var t=e.keyName,n=(0,en.default)("my-2 flex h-8 items-center justify-center rounded-[4px] border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300");return t.length>1?t.length>3?(0,l.jsx)("div",{className:(0,en.default)(n,"min-w-[50px]"),children:(0,l.jsx)("span",{className:"text-xs",children:t})}):(0,l.jsx)("div",{className:(0,en.default)(n,"min-w-[32px]"),children:(0,l.jsx)("span",{className:"text-xs",children:t})}):(0,l.jsx)("div",{className:(0,en.default)(n,"min-w-[32px]"),children:(0,l.jsx)("span",{className:"text-sm",children:t})})},eX=(0,b.vU)({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts",description:"Title of the keyboard shortcuts modal"}}),e0=function(){var e=(0,v.Z)(),t=(0,O.tN)(function(e){return e.activeModals.has(O.B.KeyboardActions)}),n=function(){O.vm.closeModal(O.B.KeyboardActions)},a=(0,eJ.JS)(),i=(0,p.useMemo)(function(){var e=Math.ceil(a.length/2);return[a.slice(0,e),a.slice(e)]},[a]);return(0,l.jsx)(B.Z,{isOpen:t,onClose:n,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",closeButton:(0,l.jsx)(S.ZP.CloseButton,{onClose:n}),title:e.formatMessage(eX.keyboardActionsModalTitle),children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:i.map(function(e,t){return(0,l.jsx)("div",{className:"flex flex-col overflow-hidden",children:e.map(function(e){return(0,l.jsx)(eK,{action:e},e.key)})},"col-".concat(t))})})})})},e1=Symbol("invalid path");function e2(e){var t,n=e.split(/[#?]/)[0];if("/"!==n&&!n.match(/^\/g\/\w+$/)){var a=/(?:(?:\/gizmo)?\/g\/\w+)?\/c\/([a-f0-9-]+)$/.exec(n);return null!==(t=null==a?void 0:a[1])&&void 0!==t?t:e1}}function e4(e){var t=e.urlThreadId,n=e.clientThreadId,a=e.serviceStatus,i=e.serviceAnnouncement,s=e.ageVerificationDeadline,o=e.showCookieConsentBanner,h=e.canManageBrowserStorage,x=(0,r._)((0,p.useState)(function(){return void 0!==t?t:void 0!==n?n:(0,f.OX)()}),2),y=x[0],v=x[1];void 0!==t&&y!==t&&f.tQ.getServerThreadId(y)!==t&&v(t),void 0===t&&void 0!==f.tQ.getServerThreadId(y)&&v((0,f.OX)());var b=(0,g.$T)(),k=(0,g.WY)(),j=(0,g.ec)(g.F_.workspaceId),w=(0,g.hz)().has(d.PL);(0,p.useEffect)(function(){w&&m.ZP.initializeAndGatherData()},[w]),(0,p.useEffect)(function(){(null==a?void 0:a.type)&&!1===k&&c.m.warning(a.message,{hasCloseButton:!0,duration:5})},[k,null==a?void 0:a.message,null==a?void 0:a.type]);var M=(0,p.useRef)(!1);return(0,p.useEffect)(function(){if(!b){var e=k?i.paid:i.public;if((null==e?void 0:e.type)&&(null==e?void 0:e.message)&&!M.current){M.current=!0;var t=e.message,n={hasCloseButton:!0,duration:15};switch(e.type){case"danger":c.m.danger(t,n);break;case"info":c.m.info(t,n);break;case"warning":c.m.warning(t,n)}}}},[i,b,k]),(0,l.jsxs)(u.gB.Provider,{value:null,children:[(0,l.jsx)(eH,{ageVerificationDeadline:s,showCookieConsentBanner:o,canManageBrowserStorage:h},j),(0,l.jsx)(e0,{}),(0,l.jsx)(eQ.Z,{clientThreadId:y,setClientThreadId:v})]})}},34518:function(e,t,n){n.d(t,{Z:function(){return eg}});var a=n(39324),i=n(35250),s=n(35265),o=n(62682),r=n(82473),l=n(10721),c=n(70079),d=n(1454),u=n(32004),m=n(94968),p=n(66638),f=n(55548),g=n(17944),h=n(25687),x=n(84844),y=n(8679),v=n(1491),b=n(61399),k=n(61017),j=n(41955),w=n(21950),M=n(41187),C=n(23234),_=n(44288),A=n(21722),N=n(10064),T=n(4337),S=n(64502),B=n(38104),Z=n(65129),P=n(86646),D=n(61236),E=n(25494),O=n(19841),L=n(72201),I=n(26430),z=n(84913),W=n(44043),U=n(82187),q=n(69262),V=n(70737),R=n(97296),G=n(61888),F=n(70671),H=n(21389),Y=n(56497),Q=n(48133);n(94705),n(7184);var J=n(95585),K=n(42798),$=n(25913);function X(){var e=(0,T._)(["flex flex-col gap-2 pb-2 dark:text-gray-100 text-gray-800 text-sm\n",""]);return X=function(){return e},e}function ee(){var e=(0,T._)(["h-9 pb-2 pt-3 px-2 text-xs font-medium text-ellipsis overflow-hidden break-all bg-white dark:bg-black text-gizmo-gray-600"]);return ee=function(){return e},e}var et=(0,m.vU)({historyBucketToday:{id:"history.bucket.today",defaultMessage:"Today",description:"Label for today's history bucket"},historyBucketYesterday:{id:"history.bucket.yesterday",defaultMessage:"Yesterday",description:"Label for yesterday's history bucket"},historyBucketLastSeven:{id:"history.bucket.lastSeven",defaultMessage:"Previous 7 Days",description:"Label for the history bucket of the previous 7 days"},historyBucketLastThirty:{id:"history.bucket.lastThirty",defaultMessage:"Previous 30 Days",description:"Label for the history bucket of the previous 30 days"},unableToLoadHistory:{id:"history.unableToLoad",defaultMessage:"Unable to load history",description:"Error message when history fails to load"},retryButton:{id:"history.retryButton",defaultMessage:"Retry",description:"Button to retry loading history"},showMoreButton:{id:"history.showMoreButton",defaultMessage:"Show more",description:"Button to show more history items"},deleteModalTitle:{id:"history.deleteModalTitle",defaultMessage:"Delete chat?",description:"Title of the modal to confirm deleting a conversation"},deleteModalBody:{id:"history.deleteModalBody",defaultMessage:"This will delete {title}.",description:"Body of the modal to confirm deleting a conversation"},deleteModalConfirm:{id:"history.deleteModalConfirm",defaultMessage:"Delete",description:"Button to confirm deleting a conversation"},deleteModalCancel:{id:"history.deleteModalCancel",defaultMessage:"Cancel",description:"Button to cancel deleting a conversation"}}),en="conversationTags",ea={initial:function(e){return e.isNew?{opacity:0,height:0,overflow:"hidden"}:{}},animate:function(){return{opacity:1,height:"auto"}},exit:function(){return{opacity:0,height:0}}},ei=function(e){return e?(0,G.startCase)((0,G.toLower)(e)):""};function es(e){var t,n,o,l,d,m=e.activeId,p=e.filterConversation,f=(0,F.Z)(),g=(0,N._)((0,c.useState)(!1),2),h=g[0],x=g[1],y=(0,N._)((0,c.useState)(0),2),v=y[0],b=y[1],k=(0,Y.Z)(),j=(0,N._)((0,c.useState)(null),2),w=j[0],M=j[1],C=(0,N._)((0,c.useState)(!1),2),_=C[0],T=C[1],G=(0,$.MO)({pageSize:100}),H=G.conversations,X=G.hasNextPage,ee=G.fetchNextPage,es=G.isLoading,el=G.isFetchingNextPage,ec=G.isError,ed=(0,c.useRef)(null),eu=(0,c.useCallback)(function(e){var t;es||null==e||(null===(t=ed.current)||void 0===t||t.disconnect(),ed.current=new IntersectionObserver(function(e){e[0].isIntersecting&&X&&ee()}),ed.current.observe(e))},[es,X,ee]);(0,c.useEffect)(function(){return function(){var e;null===(e=ed.current)||void 0===e||e.disconnect()}},[]);var em=(0,$.iF)(),ep=(0,D.a)({queryKey:[en],queryFn:(0,A._)(function(){return(0,B.Jh)(this,function(e){switch(e.label){case 0:return[4,P.ZP.get("".concat(P.B,"/conversations/tags"))];case 1:return[2,e.sent().conversation_tags]}})})}).data,ef=(t=(0,r.NL)(),(0,E.D)({mutationFn:(0,A._)(function(){return(0,B.Jh)(this,function(e){switch(e.label){case 0:return[4,P.ZP.post("".concat(P.B,"/conversation/gen_tags"))];case 1:return[2,e.sent().conversation_tags]}})}),onSuccess:function(e){t.setQueryData([en],function(){return e})}})),eg=(0,c.useMemo)(function(){var e=new Set;null==ep||ep.forEach(function(t){var n=(0,N._)(t,2);(n[0],n[1]).forEach(function(t){return e.add(t)})});var t=(0,S._)(e);return t.sort(),t},[ep]),eh=H.reduce(function(e,t){var n=null===(o=null==ep?void 0:ep.find(function(e){return(0,N._)(e,1)[0]===t.id}))||void 0===o?void 0:o[1],a=!0,i=!1,s=void 0;try{for(var o,r,l=(null!=n?n:[])[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var c=r.value;e[c]||(e[c]=[]),e[c].push(t)}}catch(e){i=!0,s=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw s}}return e},{}),ex=H.filter(function(e){var t,n=null===(t=null==ep?void 0:ep.find(function(t){return(0,N._)(t,1)[0]===e.id}))||void 0===t?void 0:t[1];return!w||(null==n?void 0:n.includes(w))});null!=p&&(ex=ex.filter(p));var ey=(n=ex,o=(0,c.useRef)(),l=(0,c.useRef)(),((0,c.useEffect)(function(){o.current=l.current,l.current=n},[n]),n===l.current)?o.current:l.current);(0,c.useEffect)(function(){k(function(){b(v+1)},(0,I.Z)((0,z.Z)(),Date.now())+1e3)},[v,k]);var ev=0===ex.length,eb=(0,c.useMemo)(function(){return ex.reduce(function(e,t){var n,a,i=new Date(null!==(a=null!==(n=t.update_time)&&void 0!==n?n:t.create_time)&&void 0!==a?a:0),s=(0,L.Z)(new Date,i);if(0===s)e.recent.today.items.push(t);else if(s<=1)e.recent.yesterday.items.push(t);else if(s<=7)e.recent.lastSeven.items.push(t);else if(s<=30)e.recent.lastThirty.items.push(t);else if((0,q.Z)(i)){var o=(0,U.Z)(i),r=(0,W.Z)(i),l="".concat(o,"-").concat(r);e.dynamicMonths[l]?e.dynamicMonths[l].items.push(t):e.dynamicMonths[l]={label:f.formatDate(i,{month:"long"}),items:[t]}}else{var c=(0,U.Z)(i),d="".concat(c,"-");e.dynamicYears[d]?e.dynamicYears[d].items.push(t):e.dynamicYears[d]={label:f.formatDate(i,{year:"numeric"}),items:[t]}}return e},{recent:{today:{label:(0,i.jsx)(u.Z,(0,a._)({},et.historyBucketToday)),items:[]},yesterday:{label:(0,i.jsx)(u.Z,(0,a._)({},et.historyBucketYesterday)),items:[]},lastSeven:{label:(0,i.jsx)(u.Z,(0,a._)({},et.historyBucketLastSeven)),items:[]},lastThirty:{label:(0,i.jsx)(u.Z,(0,a._)({},et.historyBucketLastThirty)),items:[]}},dynamicMonths:{},dynamicYears:{}})},[v,ex]);return(0,i.jsxs)(eo,{$centered:es||ec&&ev,children:[ev&&es&&(0,i.jsx)(K.Z,{className:"m-auto"}),ev&&ec&&(0,i.jsxs)("div",{className:"p-3 text-center italic text-gray-500",children:[(0,i.jsx)(u.Z,(0,a._)({},et.unableToLoadHistory)),!h&&(0,i.jsx)("div",{className:"mt-1",children:(0,i.jsx)(Q.z,{as:"button",color:"dark",size:"small",className:"m-auto mt-2",onClick:function(){x(!0),em()},children:(0,i.jsx)(u.Z,(0,a._)({},et.retryButton))})})]}),(0,i.jsx)(Q.z,{className:"ml-2 mt-2",loading:ef.isPending,onClick:function(){M(null),ef.mutate()},color:"neutral",children:"✨ Auto-tag"}),(0,i.jsxs)(Z.Z.Root,{onOpenChange:function(e){return T(e)},children:[(0,i.jsx)(Z.Z.Trigger,{asChild:!0,children:(0,i.jsxs)("div",{className:"-mb-3 ml-2 mt-2 flex items-center justify-between rounded border !border-gray-600",children:[(0,i.jsx)("div",{children:w?ei(w):"All Chats"}),(0,i.jsx)(s.ud,{className:_?"rotate-180":""})]})}),(0,i.jsx)(Z.Z.Portal,{children:(0,i.jsxs)(Z.Z.Content,{className:"max-h-[70vh] min-w-[14rem] overflow-y-auto rounded-md bg-white py-1 shadow-lg dark:bg-gray-800",side:"bottom",sideOffset:4,children:[(0,i.jsxs)(Z.Z.Item,{onClick:function(){return M(null)},className:"flex cursor-pointer select-none items-center justify-between gap-2 px-2 py-3 radix-highlighted:bg-gray-50 dark:radix-highlighted:bg-gray-700",children:[(0,i.jsx)("div",{children:"All Chats"}),(0,i.jsx)("div",{className:"text-sm text-token-text-tertiary",children:null!==(d=H.length)&&void 0!==d?d:0})]}),eg.map(function(e){var t,n,a=null!==(n=null===(t=eh[e])||void 0===t?void 0:t.length)&&void 0!==n?n:0;return a<2?null:(0,i.jsxs)(Z.Z.Item,{onClick:function(){return M(e)},className:"flex cursor-pointer select-none items-center justify-between gap-2 px-2 py-3 radix-highlighted:bg-gray-50 dark:radix-highlighted:bg-gray-700",children:[(0,i.jsx)("div",{children:ei(e)}),(0,i.jsx)("div",{className:"text-sm text-token-text-tertiary",children:a})]},e)})]})})]}),!es&&(0,i.jsx)("div",{children:(0,i.jsx)(V.M,{initial:!1,children:[eb.recent,eb.dynamicMonths,eb.dynamicYears].flatMap(function(e,t){return(0,i.jsx)("span",{children:Object.entries(e).map(function(e){var t=(0,N._)(e,2),n=t[0],a=t[1],s=a.items,o=a.label;if("today"!==n&&!s.length)return null;var r=!!s.find(function(e){var t;return ex.length>0&&e.id===(null===(t=ex[0])||void 0===t?void 0:t.id)});return(0,i.jsxs)(R.E.div,{className:"relative mt-2",layoutId:"bucket-".concat(n),layout:"position",initial:{height:0,opacity:1,position:"relative"},animate:{height:"auto",opacity:1,transition:{duration:.2,ease:"easeIn"}},children:[s.length>0&&(0,i.jsx)(R.E.div,{layoutId:"bucketTitle-".concat(n),layout:"position",children:(0,i.jsx)(er,{children:o})}),(0,i.jsx)("ol",{children:s.map(function(e,t){var n,a=m===e.id,s=null==ey?void 0:ey.find(function(t){return t.id===e.id}),o=X&&(null===(n=ex[ex.length-5-1])||void 0===n?void 0:n.id)===e.id?eu:void 0;return(0,i.jsx)(R.E.li,{className:(0,O.default)("relative",r&&0===t?"z-[15]":""),layoutId:"".concat(e.id),layout:"position",custom:{isNew:!s},variants:ea,initial:"initial",animate:"animate",exit:"exit",children:(0,i.jsx)(J.I,{conversation:e,isActive:a,elementRef:o})},"history-item-".concat(e.id))})})]},n)})},"category-".concat(t))})})}),el&&(0,i.jsx)("div",{className:"m-4 mb-5 flex justify-center",children:(0,i.jsx)(K.Z,{})})]})}var eo=H.Z.div(X(),function(e){return e.$centered&&"h-full justify-center items-center"}),er=H.Z.h3(ee()),el=n(14957),ec=n(10989),ed=n(47478),eu=n(4865),em=n(74424),ep=n(96693),ef=n(10499);function eg(e){var t,n=e.clientThreadId,a=e.setClientThreadId,u=e.initiallyHighlightedMessageId,m=e.continueConversationUrl,b=null!==(0,c.useContext)(h.gB);(0,p.ax)(n);var k=(0,p.XK)(n),A=(0,l.useRouter)(),N=(0,g.hz)(),T=(0,p.UL)(n),S=(0,c.useContext)(h.QL).historyDisabled,B=(0,ef.Xy)(T.lastModelUsed,n),Z=(0,r.NL)();(0,c.useEffect)(function(){return p.tQ.retainThread(n),function(){setTimeout(function(){Z.invalidateQueries({queryKey:["conversation",n]})},0),p.tQ.releaseThread(n)}},[n,Z]),(0,c.useEffect)(function(){f.vm.closeSharingModal()},[n,k]);var P=(0,c.useCallback)(function(){a((0,p.OX)()),A.replace(B.tags.includes(ef.S.GPT_4)?"/":"/?model=".concat(B.id),void 0,{shallow:!0})},[a,B.tags,B.id,A]);(0,y.yx)({resetThreadAction:P,clientThreadId:n});var D=(0,f.tN)(function(e){return e.activeSidebar}),E=(0,v.w$)();(0,c.useEffect)(function(){return function(){j.hx.abortAllRequests()}},[n]),t=(0,g.hz)().has("debug"),(0,c.useEffect)(function(){if(t)return(0,x.eR)(document,{keydown:function(e){e.target instanceof HTMLElement&&["input","textarea","select","button"].includes(e.target.tagName.toLowerCase())||"\\"!==e.key||f.vm.toggleActiveSidebar("debug")}})},[t]);var O=(0,c.useRef)(T.threadId);(0,c.useEffect)(function(){T.threadId!==O.current&&(f.vm.setActiveSidebar(!1),O.current=T.threadId),j.hx.clear()},[T.threadId]);var L=(0,C.O)(),I=(0,w.TS)(n),z=N.has(o.L0.HackathonConvoTags)?es:_.Z;return(0,i.jsxs)(eu.Z,{showNavigation:!b,renderTitle:(0,i.jsx)(eh,{clientThreadId:n}),renderMobileHeaderRightContent:(0,i.jsx)(em.js,{onClick:P,children:S?(0,i.jsx)(d.Bw1,{className:"icon-lg"}):(0,i.jsx)(s.ks,{className:"icon-md"})}),renderSidebar:(0,i.jsxs)(el.ZP,{onNewThread:P,currentGizmoId:I,children:[L?(0,i.jsx)(M.Dy,{currentGizmoId:I}):(0,i.jsx)("div",{className:"pt-3.5",children:(0,i.jsx)(M.jl,{gizmo:void 0,isActive:void 0===I})}),(0,i.jsx)(z,{activeId:S?void 0:k})]}),children:[(0,i.jsx)(ep.Z,{initialThreadData:T,clientThreadId:n,initiallyHighlightedMessageId:u,continueConversationUrl:m},n),(0,i.jsxs)(eu.Z.Sidebars,{children:[N.has("debug")&&"debug"===D&&(0,i.jsx)(ed.fv,{clientThreadId:n,slideOver:!E,onClose:function(){return f.vm.toggleActiveSidebar("debug")},isOpen:!0}),N.has("tools3_dev")&&(0,i.jsx)(ec.ZP,{slideOver:!E})]})]})}function eh(e){var t,n=e.clientThreadId,s=null!==(t=p.tQ.getTitle(n))&&void 0!==t?t:"New chat",o=(0,b.Z)(n,s,!0),r=o.resolvedTitle,l=o.isTypingEffect,m=(0,c.useContext)(h.QL),f=m.historyDisabled,g=m.toggleHistoryDisabled;return(0,i.jsx)(i.Fragment,{children:f?(0,i.jsxs)("button",{className:"flex cursor-pointer flex-row place-items-center items-center justify-center gap-3",onClick:function(){return g()},children:[(0,i.jsx)(d.$IY,{className:"icon-sm"}),(0,i.jsx)(u.Z,(0,a._)({},ex.enableChatHistory))]}):l&&null!=r?(0,i.jsx)(k.Z,{text:r}):null!=r?r:(0,i.jsx)(u.Z,(0,a._)({},ex.newChat))})}var ex=(0,m.vU)({enableChatHistory:{id:"navigation.enableChatHistory",defaultMessage:"Enable chat history",description:"Enable chat history button label"},newChat:{id:"navigation.newChat",defaultMessage:"New chat",description:"New chat header title"}})},84269:function(e,t,n){n.d(t,{Z:function(){return T},b:function(){return N}});var a=n(21722),i=n(39324),s=n(71209),o=n(10064),r=n(38104),l=n(35250),c=n(5053),d=n(17944),u=n(40971),m=n(25260),p=n(19841),f=n(91530),g=n.n(f),h=n(21988),x=n.n(h),y=n(70079),v=n(1454),b=n(32004),k=n(94968),j=n(12952),w=n(7184),M=n(42798),C=n(34609),_=n(12296);function A(e){var t=e.workspace,n=(0,d.aF)(),i=(0,d.ec)(function(e){return e.currentWorkspace}),s=(null==i?void 0:i.id)===t.id,f=(0,o._)((0,y.useState)(!1),2),h=f[0],b=f[1],k=(0,C.Z)().onEnableHistory,w=(0,y.useCallback)((0,a._)(function(){return(0,r.Jh)(this,function(e){return b(!0),d.w_.setCurrentWorkspace(t),k(),(0,u.M)(),[2]})}),[t,k]),A=(0,_.GA)(t),N=(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(j.B0,{src:t.profilePictureUrl,size:"medium"})});if(t.structure===c.CZ.PERSONAL){if(!n)return null;N=(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(x(),{alt:"Profile",src:n.picture,width:j.EF.medium,height:j.EF.medium,className:"flex items-center justify-center rounded-full"})})}return(0,l.jsxs)(s?"div":"button",{onClick:s?g():w,className:(0,p.default)({"flex w-full items-center gap-2 rounded-lg border border-gray-100 bg-gray-50 p-4 hover:bg-gray-100 focus:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:bg-gray-700":!0,"bg-gray-50 dark:bg-gray-800":s}),children:[(0,l.jsxs)("div",{className:"flex w-full items-center gap-4",children:[N,(0,l.jsx)("div",{className:"inline align-top font-medium",children:A})]}),(0,l.jsx)("div",{className:"flex h-full items-center p-1",children:h?(0,l.jsx)(M.Z,{}):s?(0,l.jsx)(m.Z,{className:"icon-lg"}):(0,l.jsx)(v.Tfp,{className:"icon-lg my-auto"})})]})}function N(e){var t=e.data.map(function(e){return(0,l.jsx)(A,{workspace:e},e.id)});return(0,l.jsx)("div",{className:"flex w-full flex-col gap-2",children:t})}function T(){var e,t=(0,_.my)(),n=(0,d.aF)(),a=null!==(e=null==n?void 0:n.email)&&void 0!==e?e:"";if(0===t.length)return null;var o=t.filter(function(e){return e.structure===c.CZ.WORKSPACE});return(0,l.jsx)(w.Z,{isOpen:!0,onClose:g(),type:"success",size:"normal",title:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(b.Z,(0,i._)({},S.workspaceSwitcherTitle)),(0,l.jsx)("span",{className:"mt-0.5 text-sm text-gray-700 dark:text-gray-400",children:a})]}),children:(0,l.jsxs)("div",{className:"flex w-full flex-col items-center justify-between",children:[(0,l.jsx)(N,{data:t}),(0,l.jsx)("span",{className:"mt-4 text-sm text-gray-700 dark:text-gray-400",children:(0,l.jsx)(b.Z,(0,s._)((0,i._)({},S.workspaceSwitcherDisclaimer),{values:{workspaces:(0,l.jsx)("span",{className:"contents font-bold",children:(0,l.jsx)(k.yX,{value:o.map(function(e){return e.name})})}),numWorkspaces:o.length}}))})]})})}var S=(0,k.vU)({workspaceSwitcherTitle:{id:"workspaceSwitcher.title",defaultMessage:"Select a workspace",description:"title for account switcher modal"},workspaceSwitcherDisclaimer:{id:"workspaceSwitcher.disclaimer",defaultMessage:"You've been added to the {workspaces} {numWorkspaces, plural, one {workspace} other {workspaces}}. You can switch between workspaces at any time.",description:"disclaimer for account switcher modal"}})}}]);